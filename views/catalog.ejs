<%- include('partials/header', { view: 'catalog' }) %>

		<main>
			<section id="catalog">
				<h1>Notre catalogue</h1>
				
				<select name="categories" id="categories-select">
					<option value="" disabled selected>--Filtrer par catégorie--</option>

					<% if (locals.categories?.length) { %>
						<% for( let index = 0; index < categories.length; index++ ) { %>

					<option value="<%= categories[index].type %>"><%= categories[index].type %> (<%= categories[index].count %>)</option>
						
						<% } %>
					<% } %>

				</select>

				<div
					class="articles only-display-3-articles"
					id="articles-list"
				>

					<% if (locals.products?.length) { %>
					
						<% products.forEach(product => { %>
						
							<article data-category="<%= product.type %>">
								<img
									src="/images/coffees/<%= product.reference %>.png"
									alt="<%= product.name %>"
								/>
								<div>
									<h2><%= product.name %></h2>
									<p>Origine <%= product.origine %></p>
									<p><%= product.price %> €/kg</p>
									<a class="button-outline" href="/product/<%= product.id %>"
										>Voir le détail</a
									>
								</div>
							</article>

						<% }) %>

					<% } %>

				</div>

				<button class="button" id="see-all-products-button">
					Voir tous les produits
				</button>
			</section>
		</main>

<%- include('partials/footer') %>
